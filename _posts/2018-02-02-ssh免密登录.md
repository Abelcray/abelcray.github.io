# ssh免密码登陆

**1、Xshell通过SSH连接服务器实现免密钥登录。**
打开Xshell软件，通过ssh登录到服务器，点击上方选项栏中的工具>新建用户密钥生成向导
![shell1.png][1]
点击下一步，输入密钥名称（可自行命名），并选择密钥是否通过密码加密(如果给密钥加密则登录服务器时除选择Public Key之外，还要输入定义的用户密钥密码进行登录；如不给密钥加密则不用输入密钥密码)
![shell2.png][2]

点击下一步，点击‘保存为文件’
![shell3.png][3]

修改文件名为authorized_keys保存到本地桌面，然后在shell终端通过rz命令把公钥上传到服务器上，将公钥移动到/root/.ssh/目录下，如果没有此目录则创建此目录。

到此，免密钥就设置完成了，重新登录服务器选择Public Key登录，点确定直接进入终端，免去了输密码的繁琐步骤，整个人都好了很多︿(￣︶￣)︿

2、linux服务器之间相互免密钥登录
实现方式：在A服务器生成公钥和密钥，将公钥放到B服务器的/root/.ssh/目录下，实现在A服务器登录B服务器时免密码登录，如果B服务器想免密码登录A服务器，则反之。
首先，使用ssh-keygen命令创建公钥和密钥（命令运行之后狂按回车）
![shell4.png][4]
之后将公钥通过ssh-copy-id命令发送至被控制端（需输入被控端服务器密码）

```
ssh-copy-id -i /root/.ssh/id_rsa.pub root@172.16.1.129
```

免密码配置完成。



[1]: ../images/487077061.png
[2]: ../images/349809224.png
[3]: ../images/2899213530.png
[4]: ../images/554335543.png